{"ast":null,"code":"/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint-env es6 */\nvar util = module.exports; // converts a string to base64 (url/filename safe variant)\n\nutil.stringToBase64Url = function (str) {\n  var b64 = btoa(str);\n  return util.base64ToBase64Url(b64);\n}; // converts a standard base64-encoded string to a \"url/filename safe\" variant\n\n\nutil.base64ToBase64Url = function (b64) {\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n}; // converts a \"url/filename safe\" base64 string to a \"standard\" base64 string\n\n\nutil.base64UrlToBase64 = function (b64u) {\n  return b64u.replace(/-/g, '+').replace(/_/g, '/');\n};\n\nutil.base64UrlToString = function (b64u) {\n  var b64 = util.base64UrlToBase64(b64u);\n\n  switch (b64.length % 4) {\n    case 0:\n      break;\n\n    case 2:\n      b64 += '==';\n      break;\n\n    case 3:\n      b64 += '=';\n      break;\n\n    default:\n      throw 'Not a valid Base64Url';\n  }\n\n  var utf8 = atob(b64);\n\n  try {\n    return decodeURIComponent(escape(utf8));\n  } catch (e) {\n    return utf8;\n  }\n};\n\nutil.stringToBuffer = function (str) {\n  var buffer = new Uint8Array(str.length);\n\n  for (var i = 0; i < str.length; i++) {\n    buffer[i] = str.charCodeAt(i);\n  }\n\n  return buffer;\n};\n\nutil.base64UrlDecode = function (str) {\n  return atob(util.base64UrlToBase64(str));\n};\n\nutil.bind = function (fn, ctx) {\n  var additionalArgs = Array.prototype.slice.call(arguments, 2);\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    args = additionalArgs.concat(args);\n    return fn.apply(ctx, args);\n  };\n};\n\nutil.isAbsoluteUrl = function (url) {\n  return /^(?:[a-z]+:)?\\/\\//i.test(url);\n};\n\nutil.isString = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object String]';\n};\n\nutil.isObject = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n};\n\nutil.isNumber = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object Number]';\n};\n\nutil.isArray = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n};\n\nutil.isoToUTCString = function (str) {\n  var parts = str.match(/\\d+/g),\n      isoTime = Date.UTC(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]),\n      isoDate = new Date(isoTime);\n  return isoDate.toUTCString();\n};\n\nutil.toQueryParams = function (obj) {\n  var str = [];\n\n  if (obj !== null) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] !== undefined && obj[key] !== null) {\n        str.push(key + '=' + encodeURIComponent(obj[key]));\n      }\n    }\n  }\n\n  if (str.length) {\n    return '?' + str.join('&');\n  } else {\n    return '';\n  }\n};\n\nutil.genRandomString = function (length) {\n  var randomCharset = 'abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  var random = '';\n\n  for (var c = 0, cl = randomCharset.length; c < length; ++c) {\n    random += randomCharset[Math.floor(Math.random() * cl)];\n  }\n\n  return random;\n};\n\nutil.extend = function () {\n  // First object will be modified!\n  var obj1 = arguments[0]; // Properties from other objects will be copied over\n\n  var objArray = [].slice.call(arguments, 1);\n  objArray.forEach(function (obj) {\n    for (var prop in obj) {\n      // copy over all properties with defined values\n      if (obj.hasOwnProperty(prop) && obj[prop] !== undefined) {\n        obj1[prop] = obj[prop];\n      }\n    }\n  });\n  return obj1; // return the modified object\n};\n\nutil.removeNils = function (obj) {\n  var cleaned = {};\n\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      var value = obj[prop];\n\n      if (value !== null && value !== undefined) {\n        cleaned[prop] = value;\n      }\n    }\n  }\n\n  return cleaned;\n};\n\nutil.clone = function (obj) {\n  if (obj) {\n    var str = JSON.stringify(obj);\n\n    if (str) {\n      return JSON.parse(str);\n    }\n  }\n\n  return obj;\n}; // Analogous to _.omit\n\n\nutil.omit = function (obj) {\n  var props = Array.prototype.slice.call(arguments, 1);\n  var newobj = {};\n\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p) && props.indexOf(p) == -1) {\n      newobj[p] = obj[p];\n    }\n  }\n\n  return util.clone(newobj);\n};\n\nutil.find = function (collection, searchParams) {\n  var c = collection.length;\n\n  while (c--) {\n    var item = collection[c];\n    var found = true;\n\n    for (var prop in searchParams) {\n      if (!searchParams.hasOwnProperty(prop)) {\n        continue;\n      }\n\n      if (item[prop] !== searchParams[prop]) {\n        found = false;\n        break;\n      }\n    }\n\n    if (found) {\n      return item;\n    }\n  }\n};\n\nutil.getLink = function (obj, linkName, altName) {\n  if (!obj || !obj._links) {\n    return;\n  }\n\n  var link = util.clone(obj._links[linkName]); // If a link has a name and we have an altName, return if they match\n\n  if (link && link.name && altName) {\n    if (link.name === altName) {\n      return link;\n    }\n  } else {\n    return link;\n  }\n};\n\nutil.getNativeConsole = function () {\n  if (typeof window !== 'undefined') {\n    return window.console;\n  } else if (typeof console !== 'undefined') {\n    return console;\n  } else {\n    return undefined;\n  }\n};\n\nutil.getConsole = function () {\n  var nativeConsole = util.getNativeConsole();\n\n  if (nativeConsole && nativeConsole.log) {\n    return nativeConsole;\n  }\n\n  return {\n    log: function () {}\n  };\n};\n\nutil.warn = function (text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] WARN: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecate = function (text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] DEPRECATION: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecateWrap = function (text, fn) {\n  return function () {\n    util.deprecate(text);\n    return fn.apply(null, arguments);\n  };\n};\n\nutil.removeTrailingSlash = function (path) {\n  if (!path) {\n    return;\n  } // Remove any whitespace before or after string\n\n\n  var trimmed = path.replace(/^\\s+|\\s+$/gm, '');\n\n  if (trimmed.slice(-1) === '/') {\n    return trimmed.slice(0, -1);\n  }\n\n  return trimmed;\n};\n\nutil.isIE11OrLess = function () {\n  return !!document.documentMode && document.documentMode <= 11;\n};\n\nutil.isFunction = function (fn) {\n  return !!fn && {}.toString.call(fn) === '[object Function]';\n};","map":{"version":3,"sources":["/Users/alanboyce/dev/bittap/ui/node_modules/@okta/okta-auth-js/lib/util.js"],"names":["util","module","exports","stringToBase64Url","str","b64","btoa","base64ToBase64Url","replace","base64UrlToBase64","b64u","base64UrlToString","length","utf8","atob","decodeURIComponent","escape","e","stringToBuffer","buffer","Uint8Array","i","charCodeAt","base64UrlDecode","bind","fn","ctx","additionalArgs","Array","prototype","slice","call","arguments","args","concat","apply","isAbsoluteUrl","url","test","isString","obj","Object","toString","isObject","isNumber","isArray","isoToUTCString","parts","match","isoTime","Date","UTC","isoDate","toUTCString","toQueryParams","key","hasOwnProperty","undefined","push","encodeURIComponent","join","genRandomString","randomCharset","random","c","cl","Math","floor","extend","obj1","objArray","forEach","prop","removeNils","cleaned","value","clone","JSON","stringify","parse","omit","props","newobj","p","indexOf","find","collection","searchParams","item","found","getLink","linkName","altName","_links","link","name","getNativeConsole","window","console","getConsole","nativeConsole","log","warn","text","deprecate","deprecateWrap","removeTrailingSlash","path","trimmed","isIE11OrLess","document","documentMode","isFunction"],"mappings":"AAAA;;;;;;;;;;;;AAWA;AACA,IAAIA,IAAI,GAAGC,MAAM,CAACC,OAAlB,C,CAEA;;AACAF,IAAI,CAACG,iBAAL,GAAyB,UAASC,GAAT,EAAc;AACrC,MAAIC,GAAG,GAAGC,IAAI,CAACF,GAAD,CAAd;AACA,SAAOJ,IAAI,CAACO,iBAAL,CAAuBF,GAAvB,CAAP;AACD,CAHD,C,CAKA;;;AACAL,IAAI,CAACO,iBAAL,GAAyB,UAASF,GAAT,EAAc;AACrC,SAAOA,GAAG,CAACG,OAAJ,CAAY,KAAZ,EAAmB,GAAnB,EAAwBA,OAAxB,CAAgC,KAAhC,EAAuC,GAAvC,EAA4CA,OAA5C,CAAoD,KAApD,EAA2D,EAA3D,CAAP;AACD,CAFD,C,CAIA;;;AACAR,IAAI,CAACS,iBAAL,GAAyB,UAASC,IAAT,EAAe;AACtC,SAAOA,IAAI,CAACF,OAAL,CAAa,IAAb,EAAmB,GAAnB,EAAwBA,OAAxB,CAAgC,IAAhC,EAAsC,GAAtC,CAAP;AACD,CAFD;;AAIAR,IAAI,CAACW,iBAAL,GAAyB,UAASD,IAAT,EAAe;AACtC,MAAIL,GAAG,GAAGL,IAAI,CAACS,iBAAL,CAAuBC,IAAvB,CAAV;;AACA,UAAQL,GAAG,CAACO,MAAJ,GAAa,CAArB;AACE,SAAK,CAAL;AACE;;AACF,SAAK,CAAL;AACEP,MAAAA,GAAG,IAAI,IAAP;AACA;;AACF,SAAK,CAAL;AACEA,MAAAA,GAAG,IAAI,GAAP;AACA;;AACF;AACE,YAAM,uBAAN;AAVJ;;AAYA,MAAIQ,IAAI,GAAGC,IAAI,CAACT,GAAD,CAAf;;AACA,MAAI;AACF,WAAOU,kBAAkB,CAACC,MAAM,CAACH,IAAD,CAAP,CAAzB;AACD,GAFD,CAEE,OAAOI,CAAP,EAAU;AACV,WAAOJ,IAAP;AACD;AACF,CApBD;;AAsBAb,IAAI,CAACkB,cAAL,GAAsB,UAASd,GAAT,EAAc;AAClC,MAAIe,MAAM,GAAG,IAAIC,UAAJ,CAAehB,GAAG,CAACQ,MAAnB,CAAb;;AACA,OAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjB,GAAG,CAACQ,MAAxB,EAAgCS,CAAC,EAAjC,EAAqC;AACnCF,IAAAA,MAAM,CAACE,CAAD,CAAN,GAAYjB,GAAG,CAACkB,UAAJ,CAAeD,CAAf,CAAZ;AACD;;AACD,SAAOF,MAAP;AACD,CAND;;AAQAnB,IAAI,CAACuB,eAAL,GAAuB,UAASnB,GAAT,EAAc;AACnC,SAAOU,IAAI,CAACd,IAAI,CAACS,iBAAL,CAAuBL,GAAvB,CAAD,CAAX;AACD,CAFD;;AAIAJ,IAAI,CAACwB,IAAL,GAAY,UAASC,EAAT,EAAaC,GAAb,EAAkB;AAC5B,MAAIC,cAAc,GAAGC,KAAK,CAACC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,EAAsC,CAAtC,CAArB;AACA,SAAO,YAAW;AAChB,QAAIC,IAAI,GAAGL,KAAK,CAACC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,CAAX;AACAC,IAAAA,IAAI,GAAGN,cAAc,CAACO,MAAf,CAAsBD,IAAtB,CAAP;AACA,WAAOR,EAAE,CAACU,KAAH,CAAST,GAAT,EAAcO,IAAd,CAAP;AACD,GAJD;AAKD,CAPD;;AASAjC,IAAI,CAACoC,aAAL,GAAqB,UAASC,GAAT,EAAc;AACjC,SAAO,qBAAqBC,IAArB,CAA0BD,GAA1B,CAAP;AACD,CAFD;;AAIArC,IAAI,CAACuC,QAAL,GAAgB,UAASC,GAAT,EAAc;AAC5B,SAAOC,MAAM,CAACZ,SAAP,CAAiBa,QAAjB,CAA0BX,IAA1B,CAA+BS,GAA/B,MAAwC,iBAA/C;AACD,CAFD;;AAIAxC,IAAI,CAAC2C,QAAL,GAAgB,UAASH,GAAT,EAAc;AAC5B,SAAOC,MAAM,CAACZ,SAAP,CAAiBa,QAAjB,CAA0BX,IAA1B,CAA+BS,GAA/B,MAAwC,iBAA/C;AACD,CAFD;;AAIAxC,IAAI,CAAC4C,QAAL,GAAgB,UAASJ,GAAT,EAAc;AAC5B,SAAOC,MAAM,CAACZ,SAAP,CAAiBa,QAAjB,CAA0BX,IAA1B,CAA+BS,GAA/B,MAAwC,iBAA/C;AACD,CAFD;;AAIAxC,IAAI,CAAC6C,OAAL,GAAe,UAASL,GAAT,EAAc;AAC3B,SAAOC,MAAM,CAACZ,SAAP,CAAiBa,QAAjB,CAA0BX,IAA1B,CAA+BS,GAA/B,MAAwC,gBAA/C;AACD,CAFD;;AAIAxC,IAAI,CAAC8C,cAAL,GAAsB,UAAS1C,GAAT,EAAc;AAClC,MAAI2C,KAAK,GAAG3C,GAAG,CAAC4C,KAAJ,CAAU,MAAV,CAAZ;AAAA,MACIC,OAAO,GAAGC,IAAI,CAACC,GAAL,CAASJ,KAAK,CAAC,CAAD,CAAd,EAAmBA,KAAK,CAAC,CAAD,CAAL,GAAW,CAA9B,EAAiCA,KAAK,CAAC,CAAD,CAAtC,EAA2CA,KAAK,CAAC,CAAD,CAAhD,EAAqDA,KAAK,CAAC,CAAD,CAA1D,EAA+DA,KAAK,CAAC,CAAD,CAApE,CADd;AAAA,MAEIK,OAAO,GAAG,IAAIF,IAAJ,CAASD,OAAT,CAFd;AAIA,SAAOG,OAAO,CAACC,WAAR,EAAP;AACD,CAND;;AAQArD,IAAI,CAACsD,aAAL,GAAqB,UAASd,GAAT,EAAc;AACjC,MAAIpC,GAAG,GAAG,EAAV;;AACA,MAAIoC,GAAG,KAAK,IAAZ,EAAkB;AAChB,SAAK,IAAIe,GAAT,IAAgBf,GAAhB,EAAqB;AACnB,UAAIA,GAAG,CAACgB,cAAJ,CAAmBD,GAAnB,KACAf,GAAG,CAACe,GAAD,CAAH,KAAaE,SADb,IAEAjB,GAAG,CAACe,GAAD,CAAH,KAAa,IAFjB,EAEuB;AACrBnD,QAAAA,GAAG,CAACsD,IAAJ,CAASH,GAAG,GAAG,GAAN,GAAYI,kBAAkB,CAACnB,GAAG,CAACe,GAAD,CAAJ,CAAvC;AACD;AACF;AACF;;AACD,MAAInD,GAAG,CAACQ,MAAR,EAAgB;AACd,WAAO,MAAMR,GAAG,CAACwD,IAAJ,CAAS,GAAT,CAAb;AACD,GAFD,MAEO;AACL,WAAO,EAAP;AACD;AACF,CAhBD;;AAkBA5D,IAAI,CAAC6D,eAAL,GAAuB,UAASjD,MAAT,EAAiB;AACtC,MAAIkD,aAAa,GAAG,+DAApB;AACA,MAAIC,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGH,aAAa,CAAClD,MAAnC,EAA2CoD,CAAC,GAAGpD,MAA/C,EAAuD,EAAEoD,CAAzD,EAA4D;AAC1DD,IAAAA,MAAM,IAAID,aAAa,CAACI,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACH,MAAL,KAAgBE,EAA3B,CAAD,CAAvB;AACD;;AACD,SAAOF,MAAP;AACD,CAPD;;AASA/D,IAAI,CAACoE,MAAL,GAAc,YAAW;AACvB;AACA,MAAIC,IAAI,GAAGrC,SAAS,CAAC,CAAD,CAApB,CAFuB,CAGvB;;AACA,MAAIsC,QAAQ,GAAG,GAAGxC,KAAH,CAASC,IAAT,CAAcC,SAAd,EAAyB,CAAzB,CAAf;AACAsC,EAAAA,QAAQ,CAACC,OAAT,CAAiB,UAAS/B,GAAT,EAAc;AAC7B,SAAK,IAAIgC,IAAT,IAAiBhC,GAAjB,EAAsB;AACpB;AACA,UAAIA,GAAG,CAACgB,cAAJ,CAAmBgB,IAAnB,KAA4BhC,GAAG,CAACgC,IAAD,CAAH,KAAcf,SAA9C,EAAyD;AACvDY,QAAAA,IAAI,CAACG,IAAD,CAAJ,GAAahC,GAAG,CAACgC,IAAD,CAAhB;AACD;AACF;AACF,GAPD;AAQA,SAAOH,IAAP,CAbuB,CAaV;AACd,CAdD;;AAgBArE,IAAI,CAACyE,UAAL,GAAkB,UAASjC,GAAT,EAAc;AAC9B,MAAIkC,OAAO,GAAG,EAAd;;AACA,OAAK,IAAIF,IAAT,IAAiBhC,GAAjB,EAAsB;AACpB,QAAIA,GAAG,CAACgB,cAAJ,CAAmBgB,IAAnB,CAAJ,EAA8B;AAC5B,UAAIG,KAAK,GAAGnC,GAAG,CAACgC,IAAD,CAAf;;AACA,UAAIG,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKlB,SAAhC,EAA2C;AACzCiB,QAAAA,OAAO,CAACF,IAAD,CAAP,GAAgBG,KAAhB;AACD;AACF;AACF;;AACD,SAAOD,OAAP;AACD,CAXD;;AAaA1E,IAAI,CAAC4E,KAAL,GAAa,UAASpC,GAAT,EAAc;AACzB,MAAIA,GAAJ,EAAS;AACP,QAAIpC,GAAG,GAAGyE,IAAI,CAACC,SAAL,CAAetC,GAAf,CAAV;;AACA,QAAIpC,GAAJ,EAAS;AACP,aAAOyE,IAAI,CAACE,KAAL,CAAW3E,GAAX,CAAP;AACD;AACF;;AACD,SAAOoC,GAAP;AACD,CARD,C,CAUA;;;AACAxC,IAAI,CAACgF,IAAL,GAAY,UAASxC,GAAT,EAAc;AACxB,MAAIyC,KAAK,GAAGrD,KAAK,CAACC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,EAAsC,CAAtC,CAAZ;AACA,MAAIkD,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIC,CAAT,IAAc3C,GAAd,EAAmB;AACjB,QAAIA,GAAG,CAACgB,cAAJ,CAAmB2B,CAAnB,KAAyBF,KAAK,CAACG,OAAN,CAAcD,CAAd,KAAoB,CAAC,CAAlD,EAAqD;AACnDD,MAAAA,MAAM,CAACC,CAAD,CAAN,GAAY3C,GAAG,CAAC2C,CAAD,CAAf;AACD;AACF;;AACD,SAAOnF,IAAI,CAAC4E,KAAL,CAAWM,MAAX,CAAP;AACD,CATD;;AAWAlF,IAAI,CAACqF,IAAL,GAAY,UAASC,UAAT,EAAqBC,YAArB,EAAmC;AAC7C,MAAIvB,CAAC,GAAGsB,UAAU,CAAC1E,MAAnB;;AACA,SAAOoD,CAAC,EAAR,EAAY;AACV,QAAIwB,IAAI,GAAGF,UAAU,CAACtB,CAAD,CAArB;AACA,QAAIyB,KAAK,GAAG,IAAZ;;AACA,SAAK,IAAIjB,IAAT,IAAiBe,YAAjB,EAA+B;AAC7B,UAAI,CAACA,YAAY,CAAC/B,cAAb,CAA4BgB,IAA5B,CAAL,EAAwC;AACtC;AACD;;AACD,UAAIgB,IAAI,CAAChB,IAAD,CAAJ,KAAee,YAAY,CAACf,IAAD,CAA/B,EAAuC;AACrCiB,QAAAA,KAAK,GAAG,KAAR;AACA;AACD;AACF;;AACD,QAAIA,KAAJ,EAAW;AACT,aAAOD,IAAP;AACD;AACF;AACF,CAlBD;;AAoBAxF,IAAI,CAAC0F,OAAL,GAAe,UAASlD,GAAT,EAAcmD,QAAd,EAAwBC,OAAxB,EAAiC;AAC9C,MAAI,CAACpD,GAAD,IAAQ,CAACA,GAAG,CAACqD,MAAjB,EAAyB;AACvB;AACD;;AAED,MAAIC,IAAI,GAAG9F,IAAI,CAAC4E,KAAL,CAAWpC,GAAG,CAACqD,MAAJ,CAAWF,QAAX,CAAX,CAAX,CAL8C,CAO9C;;AACA,MAAIG,IAAI,IAAIA,IAAI,CAACC,IAAb,IAAqBH,OAAzB,EAAkC;AAChC,QAAIE,IAAI,CAACC,IAAL,KAAcH,OAAlB,EAA2B;AACzB,aAAOE,IAAP;AACD;AACF,GAJD,MAIO;AACL,WAAOA,IAAP;AACD;AACF,CAfD;;AAiBA9F,IAAI,CAACgG,gBAAL,GAAwB,YAAW;AACjC,MAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjC,WAAOA,MAAM,CAACC,OAAd;AACD,GAFD,MAEO,IAAI,OAAOA,OAAP,KAAmB,WAAvB,EAAoC;AACzC,WAAOA,OAAP;AACD,GAFM,MAEA;AACL,WAAOzC,SAAP;AACD;AACF,CARD;;AAUAzD,IAAI,CAACmG,UAAL,GAAkB,YAAW;AAC3B,MAAIC,aAAa,GAAGpG,IAAI,CAACgG,gBAAL,EAApB;;AACA,MAAII,aAAa,IAAIA,aAAa,CAACC,GAAnC,EAAwC;AACtC,WAAOD,aAAP;AACD;;AACD,SAAO;AACLC,IAAAA,GAAG,EAAE,YAAW,CAAE;AADb,GAAP;AAGD,CARD;;AAUArG,IAAI,CAACsG,IAAL,GAAY,UAASC,IAAT,EAAe;AACzB;AACAvG,EAAAA,IAAI,CAACmG,UAAL,GAAkBE,GAAlB,CAAsB,2BAA2BE,IAAjD;AACA;AACD,CAJD;;AAMAvG,IAAI,CAACwG,SAAL,GAAiB,UAASD,IAAT,EAAe;AAC9B;AACAvG,EAAAA,IAAI,CAACmG,UAAL,GAAkBE,GAAlB,CAAsB,kCAAkCE,IAAxD;AACA;AACD,CAJD;;AAMAvG,IAAI,CAACyG,aAAL,GAAqB,UAASF,IAAT,EAAe9E,EAAf,EAAmB;AACtC,SAAO,YAAW;AAChBzB,IAAAA,IAAI,CAACwG,SAAL,CAAeD,IAAf;AACA,WAAO9E,EAAE,CAACU,KAAH,CAAS,IAAT,EAAeH,SAAf,CAAP;AACD,GAHD;AAID,CALD;;AAOAhC,IAAI,CAAC0G,mBAAL,GAA2B,UAASC,IAAT,EAAe;AACxC,MAAI,CAACA,IAAL,EAAW;AACT;AACD,GAHuC,CAIxC;;;AACA,MAAIC,OAAO,GAAGD,IAAI,CAACnG,OAAL,CAAa,aAAb,EAA2B,EAA3B,CAAd;;AACA,MAAIoG,OAAO,CAAC9E,KAAR,CAAc,CAAC,CAAf,MAAsB,GAA1B,EAA+B;AAC7B,WAAO8E,OAAO,CAAC9E,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAAP;AACD;;AACD,SAAO8E,OAAP;AACD,CAVD;;AAYA5G,IAAI,CAAC6G,YAAL,GAAoB,YAAW;AAC7B,SAAO,CAAC,CAACC,QAAQ,CAACC,YAAX,IAA2BD,QAAQ,CAACC,YAAT,IAAyB,EAA3D;AACD,CAFD;;AAIA/G,IAAI,CAACgH,UAAL,GAAkB,UAASvF,EAAT,EAAa;AAC7B,SAAO,CAAC,CAACA,EAAF,IAAQ,GAAGiB,QAAH,CAAYX,IAAZ,CAAiBN,EAAjB,MAAyB,mBAAxC;AACD,CAFD","sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* eslint-env es6 */\nvar util = module.exports;\n\n// converts a string to base64 (url/filename safe variant)\nutil.stringToBase64Url = function(str) {\n  var b64 = btoa(str);\n  return util.base64ToBase64Url(b64);\n};\n\n// converts a standard base64-encoded string to a \"url/filename safe\" variant\nutil.base64ToBase64Url = function(b64) {\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n};\n\n// converts a \"url/filename safe\" base64 string to a \"standard\" base64 string\nutil.base64UrlToBase64 = function(b64u) {\n  return b64u.replace(/-/g, '+').replace(/_/g, '/');\n};\n\nutil.base64UrlToString = function(b64u) {\n  var b64 = util.base64UrlToBase64(b64u);\n  switch (b64.length % 4) {\n    case 0:\n      break;\n    case 2:\n      b64 += '==';\n      break;\n    case 3:\n      b64 += '=';\n      break;\n    default:\n      throw 'Not a valid Base64Url';\n  }\n  var utf8 = atob(b64);\n  try {\n    return decodeURIComponent(escape(utf8));\n  } catch (e) {\n    return utf8;\n  }\n};\n\nutil.stringToBuffer = function(str) {\n  var buffer = new Uint8Array(str.length);\n  for (var i = 0; i < str.length; i++) {\n    buffer[i] = str.charCodeAt(i);\n  }\n  return buffer;\n};\n\nutil.base64UrlDecode = function(str) {\n  return atob(util.base64UrlToBase64(str));\n};\n\nutil.bind = function(fn, ctx) {\n  var additionalArgs = Array.prototype.slice.call(arguments, 2);\n  return function() {\n    var args = Array.prototype.slice.call(arguments);\n    args = additionalArgs.concat(args);\n    return fn.apply(ctx, args);\n  };\n};\n\nutil.isAbsoluteUrl = function(url) {\n  return /^(?:[a-z]+:)?\\/\\//i.test(url);\n};\n\nutil.isString = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object String]';\n};\n\nutil.isObject = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n};\n\nutil.isNumber = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Number]';\n};\n\nutil.isArray = function(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n};\n\nutil.isoToUTCString = function(str) {\n  var parts = str.match(/\\d+/g),\n      isoTime = Date.UTC(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]),\n      isoDate = new Date(isoTime);\n\n  return isoDate.toUTCString();\n};\n\nutil.toQueryParams = function(obj) {\n  var str = [];\n  if (obj !== null) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) &&\n          obj[key] !== undefined &&\n          obj[key] !== null) {\n        str.push(key + '=' + encodeURIComponent(obj[key]));\n      }\n    }\n  }\n  if (str.length) {\n    return '?' + str.join('&');\n  } else {\n    return '';\n  }\n};\n\nutil.genRandomString = function(length) {\n  var randomCharset = 'abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  var random = '';\n  for (var c = 0, cl = randomCharset.length; c < length; ++c) {\n    random += randomCharset[Math.floor(Math.random() * cl)];\n  }\n  return random;\n};\n\nutil.extend = function() {\n  // First object will be modified!\n  var obj1 = arguments[0];\n  // Properties from other objects will be copied over\n  var objArray = [].slice.call(arguments, 1);\n  objArray.forEach(function(obj) {\n    for (var prop in obj) {\n      // copy over all properties with defined values\n      if (obj.hasOwnProperty(prop) && obj[prop] !== undefined) {\n        obj1[prop] = obj[prop];\n      }\n    }\n  });\n  return obj1; // return the modified object\n};\n\nutil.removeNils = function(obj) {\n  var cleaned = {};\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      var value = obj[prop];\n      if (value !== null && value !== undefined) {\n        cleaned[prop] = value;\n      }\n    }\n  }\n  return cleaned;\n};\n\nutil.clone = function(obj) {\n  if (obj) {\n    var str = JSON.stringify(obj);\n    if (str) {\n      return JSON.parse(str);\n    }\n  }\n  return obj;\n};\n\n// Analogous to _.omit\nutil.omit = function(obj) {\n  var props = Array.prototype.slice.call(arguments, 1);\n  var newobj = {};\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p) && props.indexOf(p) == -1) {\n      newobj[p] = obj[p];\n    }\n  }\n  return util.clone(newobj);\n};\n\nutil.find = function(collection, searchParams) {\n  var c = collection.length;\n  while (c--) {\n    var item = collection[c];\n    var found = true;\n    for (var prop in searchParams) {\n      if (!searchParams.hasOwnProperty(prop)) {\n        continue;\n      }\n      if (item[prop] !== searchParams[prop]) {\n        found = false;\n        break;\n      }\n    }\n    if (found) {\n      return item;\n    }\n  }\n};\n\nutil.getLink = function(obj, linkName, altName) {\n  if (!obj || !obj._links) {\n    return;\n  }\n\n  var link = util.clone(obj._links[linkName]);\n\n  // If a link has a name and we have an altName, return if they match\n  if (link && link.name && altName) {\n    if (link.name === altName) {\n      return link;\n    }\n  } else {\n    return link;\n  }\n};\n\nutil.getNativeConsole = function() {\n  if (typeof window !== 'undefined') {\n    return window.console;\n  } else if (typeof console !== 'undefined') {\n    return console;\n  } else {\n    return undefined;\n  }\n};\n\nutil.getConsole = function() {\n  var nativeConsole = util.getNativeConsole();\n  if (nativeConsole && nativeConsole.log) {\n    return nativeConsole;\n  }\n  return {\n    log: function() {}\n  };\n};\n\nutil.warn = function(text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] WARN: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecate = function(text) {\n  /* eslint-disable no-console */\n  util.getConsole().log('[okta-auth-sdk] DEPRECATION: ' + text);\n  /* eslint-enable */\n};\n\nutil.deprecateWrap = function(text, fn) {\n  return function() {\n    util.deprecate(text);\n    return fn.apply(null, arguments);\n  };\n};\n\nutil.removeTrailingSlash = function(path) {\n  if (!path) {\n    return;\n  }\n  // Remove any whitespace before or after string\n  var trimmed = path.replace(/^\\s+|\\s+$/gm,'');\n  if (trimmed.slice(-1) === '/') {\n    return trimmed.slice(0, -1);\n  }\n  return trimmed;\n};\n\nutil.isIE11OrLess = function() {\n  return !!document.documentMode && document.documentMode <= 11;\n};\n\nutil.isFunction = function(fn) {\n  return !!fn && {}.toString.call(fn) === '[object Function]';\n};\n"]},"metadata":{},"sourceType":"script"}